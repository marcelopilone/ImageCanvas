{"version":3,"file":"SetQr.setter.js","sourceRoot":"","sources":["../../src/setters/SetQr.setter.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,cAAc,EAAE,MAAM,mBAAmB,CAAA;AAClD,OAAO,MAAM,MAAM,QAAQ,CAAA;AAG3B,MAAM,OAAO,KAAM,SAAQ,cAAc;EAErC,KAAK,CAAC,GAAG;IACL,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,OAAO,EAAE,EAAE;MACpC,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,IAAI,CAAC;SAC3D,IAAI,CAAC,QAAQ,CAAC,EAAE;QACb,MAAM,OAAO,GAAG,IAAI,KAAK,EAAE,CAAC;QAC5B,OAAO,CAAC,GAAG,GAAG,QAAQ,CAAC;QACvB,IAAI;UACA,OAAO,CAAC,MAAM,GAAG,GAAG,EAAE;YAClB,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,EAAC,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,EAAC,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;YACjI,OAAO,EAAE,CAAC;UACd,CAAC,CAAC;SACL;QAAC,OAAO,KAAK,EAAE;UACZ,OAAO,CAAC,KAAK,CAAC,CAAA;SACjB;MACL,CAAC,CAAC;SACD,KAAK,CAAC,GAAG,CAAC,EAAE;QACT,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAA;MAC1B,CAAC,CAAC,CAAA;IACN,CAAC,CAAC,CAAA;EACN,CAAC;CACJ","sourcesContent":["import { ContentDataQR } from \"../components/type\"\nimport { AbstractSetter } from \"./Abstract.setter\"\nimport QRCode from 'qrcode'\n\n\nexport class SetQR extends AbstractSetter{\n    layer: ContentDataQR\n    async run(): Promise<void> {\n        return new Promise((resolve, rejects) => {\n            QRCode.toDataURL(this.layer.data, this.layer.canvasOptions.opts)\n                .then(urlImage => {\n                    const imgData = new Image();\n                    imgData.src = urlImage;\n                    try {\n                        imgData.onload = () => {\n                            this.canvasContent.drawImage(imgData, this.layer.x, this.layer.y,this.layer.canvasOptions.width,this.layer.canvasOptions.height);\n                            resolve();\n                        };\n                    } catch (error) {\n                        rejects(error)\n                    }\n                })\n                .catch(err => {\n                    console.error(err)\n            })\n        })\n    }\n}\n"]}