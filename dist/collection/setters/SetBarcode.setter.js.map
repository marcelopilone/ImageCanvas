{"version":3,"file":"SetBarcode.setter.js","sourceRoot":"","sources":["../../src/setters/SetBarcode.setter.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,cAAc,EAAE,MAAM,mBAAmB,CAAA;AAClD,OAAO,SAAS,MAAM,WAAW,CAAA;AAEjC,MAAM,OAAO,UAAW,SAAQ,cAAc;EAE1C,KAAK,CAAC,GAAG;IACL,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,OAAO,EAAE,EAAE;MAChC,IAAI,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;MAC9C,SAAS,CAAC,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE;QAC/B,MAAM,EAAE,QAAQ;QAChB,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,aAAa;QAC7C,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,cAAc;QAC/C,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,UAAU;QAC/C,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,SAAS;OAChD,CAAC,CAAC;MACH,IAAI,aAAa,GAAG,MAAM,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC;MAClD,MAAM,OAAO,GAAG,IAAI,KAAK,EAAE,CAAC;MAC5B,OAAO,CAAC,GAAG,GAAG,aAAa,CAAC;MAC5B,IAAI;QACA,OAAO,CAAC,MAAM,GAAG,GAAG,EAAE;UAClB,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,EAAC,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,EAAC,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;UACjI,OAAO,EAAE,CAAA;QACb,CAAC,CAAC;OACL;MAAC,OAAO,KAAK,EAAE;QACZ,OAAO,CAAC,KAAK,CAAC,CAAA;OACjB;IACL,CAAC,CAAC,CAAA;EACV,CAAC;CACJ","sourcesContent":["import { ContentDataBarcode } from \"../components/type\"\nimport { AbstractSetter } from \"./Abstract.setter\"\nimport JsBarcode from 'jsbarcode'\n\nexport class SetBarcode extends AbstractSetter{\n    layer: ContentDataBarcode\n    async run(): Promise<void>{\n        return new Promise((resolve, rejects) => {\n                var canvas = document.createElement(\"canvas\");\n                JsBarcode(canvas, this.layer.data, {\n                    format: \"CODE39\",\n                    width: this.layer.canvasOptions.width_barcode,\n                    height: this.layer.canvasOptions.height_barcode,\n                    background: this.layer.canvasOptions.background,\n                    lineColor: this.layer.canvasOptions.lineColor\n                });\n                let base64Barcode = canvas.toDataURL(\"image/png\");\n                const imgData = new Image();\n                imgData.src = base64Barcode;\n                try {\n                    imgData.onload = () => {\n                        this.canvasContent.drawImage(imgData, this.layer.x, this.layer.y,this.layer.canvasOptions.width,this.layer.canvasOptions.height);\n                        resolve()\n                    };\n                } catch (error) {\n                    rejects(error)\n                }\n            })\n    }\n}\n"]}